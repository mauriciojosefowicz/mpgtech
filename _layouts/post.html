---
layout: default
---

<article class="container">
  <h1>{{ page.title }}</h1>
  <p style="color:#666; font-size:0.9em;">
    {{ page.date | date: "%d de %b de %Y" }}
  </p>

  {% if page.image %}
    <img src="{{ page.image | relative_url }}" alt="{{ page.title }}"
         style="width:100%; max-width:900px; margin:20px 0;">
  {% elsif post.image %}
    <img src="{{ post.image | relative_url }}" alt="{{ post.title }}"
         style="width:100%; max-width:900px; margin:20px 0;">
  {% endif %}

  <div class="post-content">
    {{ content }}
  </div>

  <p style="margin-top:40px;">
    <a href="{{ '/' | relative_url }}">← Voltar ao site</a>
  </p>
</article>

<!-- Script seguro: redireciona corretamente para seções da home -->
<script>
document.addEventListener("DOMContentLoaded", function () {
  document.querySelectorAll('a').forEach(link => {
    const href = link.getAttribute('href');

    // Garante que o link exista e aponte para uma âncora da home
    if (href && (href.startsWith("#") || href.startsWith("/#") || href.includes(window.location.origin + "/#"))) {
      link.addEventListener("click", function (e) {
        e.preventDefault();

        // Isola o destino (sem domínio ou prefixos)
        const hash = href.replace(window.location.origin, "").replace(/^\/?/, "");
        window.location.href = "/" + hash;
      });
    }
  });
});
</script>
